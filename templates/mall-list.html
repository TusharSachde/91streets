<ion-view title="Malls">
    <ion-content class="has-header">
        <ion-nav-buttons side="right">
            
            <button class="button button-icon icon ion-ios7-search" ng-click="showSearch = !showSearch;"></button>
        </ion-nav-buttons>
        <!--        {{location.latitude|number:0}} {{location.longitude|number:0}}-->
        <ion-list>
            <div class="item item-input-inset" ng-show="showSearch">
                <label class="item-input-wrapper">
                    <i class="icon ion-ios7-search placeholder-icon"></i>
                    <input type="search" placeholder="Search" ng-model="datasearch" ng-change="doSearch(datasearch);">
                    <i class="clear-search icon ion-ios7-close-empty" ng-click="clearSearch();"></i>
                </label>
            </div>
            <ion-item ng-hide="search" class="item-avatar" href="#/tab/malllist/mallpage/{{mall.id}}" ng-repeat="mall in malls">
                <img src="{{mall.logo|imagepath}}">
                <span class="item-note">{{mall.dist}} KM</span>
                <h2>{{mall.name}}</h2>
                <p>
                    <span ng-hide="!mall.address">{{mall.address}}</span>
                    <span ng-show="!mall.address">{{mall.storeaddress}}</span>
                </p>
            </ion-item>
<!--
            <ion-item ng-show="search" class="item-avatar" href="#/tab/storelist/storepage/{{mall.storeid}}" ng-repeat="mall in malls">
                <img src="{{mall.logo|imagepath}}">
                <span class="item-note">{{mall.dist}} KM</span>
                <h2>{{mall.name}}</h2>
                <p>
                    <span ng-hide="!mall.address">{{mall.address}}</span>
                    <span ng-show="!mall.address">{{mall.storeaddress}}</span>
                </p>
            </ion-item>
-->
        </ion-list>
        <ion-infinite-scroll on-infinite="loadMore();" distance="1%" icon="ion-loading-c">
        </ion-infinite-scroll>
    </ion-content>
</ion-view>

